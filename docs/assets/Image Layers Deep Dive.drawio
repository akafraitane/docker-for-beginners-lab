<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36 Edg/144.0.0.0" version="29.3.8">
  <diagram name="Image Layers Deep Dive" id="layers">
    <mxGraphModel dx="1372" dy="760" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1200" pageHeight="750" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="bg" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FAFAFA;strokeColor=none;" value="" vertex="1">
          <mxGeometry height="530" width="1200" as="geometry" />
        </mxCell>
        <mxCell id="title" parent="1" style="text;html=1;fontSize=22;fontFamily=Segoe UI;fontColor=#242424;align=center;fontStyle=1;" value="Image Layers Deep Dive" vertex="1">
          <mxGeometry height="32" width="400" x="350" y="20" as="geometry" />
        </mxCell>
        <mxCell id="accent" parent="1" style="line;strokeWidth=3;strokeColor=#0078D4;html=1;" value="" vertex="1">
          <mxGeometry height="1" width="180" x="460" y="61" as="geometry" />
        </mxCell>
        <mxCell id="df-card" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#E1E1E1;shadow=1;arcSize=3;" value="" vertex="1">
          <mxGeometry height="405" width="420" x="60" y="85" as="geometry" />
        </mxCell>
        <mxCell id="df-bar" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#0078D4;strokeColor=none;" value="" vertex="1">
          <mxGeometry height="405" width="5" x="60" y="85" as="geometry" />
        </mxCell>
        <mxCell id="df-label" parent="1" style="text;html=1;fontSize=11;fontFamily=Segoe UI;fontColor=#0078D4;fontStyle=1;letterSpacing=2;align=left;" value="DOCKERFILE" vertex="1">
          <mxGeometry height="18" width="130" x="90" y="95" as="geometry" />
        </mxCell>
        <mxCell id="df-sub" parent="1" style="text;html=1;fontSize=11;fontFamily=Segoe UI;fontColor=#8A8886;align=left;" value="Each instruction creates a new layer" vertex="1">
          <mxGeometry height="16" width="300" x="90" y="113" as="geometry" />
        </mxCell>
        <mxCell id="s1-num" parent="1" style="ellipse;whiteSpace=wrap;html=1;fillColor=#0078D4;strokeColor=none;fontSize=12;fontFamily=Segoe UI;fontColor=#FFFFFF;fontStyle=1;" value="1" vertex="1">
          <mxGeometry height="28" width="28" x="90" y="155" as="geometry" />
        </mxCell>
        <mxCell id="s1" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3F2F1;strokeColor=#E1E1E1;fontSize=13;fontFamily=Consolas;fontColor=#242424;align=left;spacingLeft=12;arcSize=6;" value="FROM python:3.11" vertex="1">
          <mxGeometry height="42" width="320" x="130" y="148" as="geometry" />
        </mxCell>
        <mxCell id="s2-num" parent="1" style="ellipse;whiteSpace=wrap;html=1;fillColor=#0078D4;strokeColor=none;fontSize=12;fontFamily=Segoe UI;fontColor=#FFFFFF;fontStyle=1;" value="2" vertex="1">
          <mxGeometry height="28" width="28" x="90" y="265" as="geometry" />
        </mxCell>
        <mxCell id="s2" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3F2F1;strokeColor=#E1E1E1;fontSize=13;fontFamily=Consolas;fontColor=#242424;align=left;spacingLeft=12;arcSize=6;" value="RUN pip install -r req.txt" vertex="1">
          <mxGeometry height="42" width="320" x="130" y="258" as="geometry" />
        </mxCell>
        <mxCell id="s3-num" parent="1" style="ellipse;whiteSpace=wrap;html=1;fillColor=#F7630C;strokeColor=none;fontSize=12;fontFamily=Segoe UI;fontColor=#FFFFFF;fontStyle=1;" value="3" vertex="1">
          <mxGeometry height="28" width="28" x="90" y="375" as="geometry" />
        </mxCell>
        <mxCell id="s3" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF8F0;strokeColor=#F7630C;fontSize=13;fontFamily=Consolas;fontColor=#242424;align=left;spacingLeft=12;arcSize=6;" value="COPY . ." vertex="1">
          <mxGeometry height="42" width="320" x="130" y="368" as="geometry" />
        </mxCell>
        <mxCell id="a1" edge="1" parent="1" style="endArrow=blockThin;endFill=1;html=1;strokeWidth=2;strokeColor=#C8C6C4;" value="">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="480" y="169" as="sourcePoint" />
            <mxPoint x="610" y="169" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="a2" edge="1" parent="1" style="endArrow=blockThin;endFill=1;html=1;strokeWidth=2;strokeColor=#C8C6C4;" value="">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="480" y="279" as="sourcePoint" />
            <mxPoint x="610" y="279" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="a3" edge="1" parent="1" style="endArrow=blockThin;endFill=1;html=1;strokeWidth=2;strokeColor=#F7630C;" value="">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="480" y="389" as="sourcePoint" />
            <mxPoint x="610" y="389" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ly-card" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#E1E1E1;shadow=1;arcSize=3;" value="" vertex="1">
          <mxGeometry height="405" width="520" x="610" y="85" as="geometry" />
        </mxCell>
        <mxCell id="ly-bar" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#8661C5;strokeColor=none;" value="" vertex="1">
          <mxGeometry height="405" width="5" x="610" y="85" as="geometry" />
        </mxCell>
        <mxCell id="ly-label" parent="1" style="text;html=1;fontSize=11;fontFamily=Segoe UI;fontColor=#8661C5;fontStyle=1;letterSpacing=2;align=left;" value="RESULTING LAYERS" vertex="1">
          <mxGeometry height="18" width="180" x="640" y="95" as="geometry" />
        </mxCell>
        <mxCell id="ly-sub" parent="1" style="text;html=1;fontSize=11;fontFamily=Segoe UI;fontColor=#8A8886;align=left;" value="Stacked filesystem snapshots" vertex="1">
          <mxGeometry height="16" width="250" x="640" y="113" as="geometry" />
        </mxCell>
        <mxCell id="ly1" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F0F6FF;strokeColor=#0078D4;arcSize=4;strokeWidth=1;" value="" vertex="1">
          <mxGeometry height="55" width="440" x="640" y="148" as="geometry" />
        </mxCell>
        <mxCell id="ly1-dot" parent="1" style="ellipse;whiteSpace=wrap;html=1;fillColor=#0078D4;strokeColor=none;" value="" vertex="1">
          <mxGeometry height="10" width="10" x="658" y="166" as="geometry" />
        </mxCell>
        <mxCell id="ly1-name" parent="1" style="text;html=1;fontSize=13;fontFamily=Segoe UI;fontColor=#242424;fontStyle=1;align=left;" value="Layer 1  —  Python 3.11 base" vertex="1">
          <mxGeometry height="22" width="260" x="678" y="157" as="geometry" />
        </mxCell>
        <mxCell id="ly1-desc" parent="1" style="text;html=1;fontSize=10;fontFamily=Segoe UI;fontColor=#8A8886;align=left;" value="Base runtime, OS packages" vertex="1">
          <mxGeometry height="16" width="200" x="678" y="177" as="geometry" />
        </mxCell>
        <mxCell id="ly1-badge" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DFF6DD;strokeColor=#107C10;fontSize=10;fontFamily=Segoe UI Semibold;fontColor=#107C10;" value="Cached" vertex="1">
          <mxGeometry height="20" width="55" x="1015" y="163" as="geometry" />
        </mxCell>
        <mxCell id="ly2" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F0F6FF;strokeColor=#0078D4;arcSize=4;strokeWidth=1;" value="" vertex="1">
          <mxGeometry height="55" width="440" x="640" y="258" as="geometry" />
        </mxCell>
        <mxCell id="ly2-dot" parent="1" style="ellipse;whiteSpace=wrap;html=1;fillColor=#0078D4;strokeColor=none;" value="" vertex="1">
          <mxGeometry height="10" width="10" x="658" y="276" as="geometry" />
        </mxCell>
        <mxCell id="ly2-name" parent="1" style="text;html=1;fontSize=13;fontFamily=Segoe UI;fontColor=#242424;fontStyle=1;align=left;" value="Layer 2  —  Dependencies" vertex="1">
          <mxGeometry height="22" width="260" x="678" y="267" as="geometry" />
        </mxCell>
        <mxCell id="ly2-desc" parent="1" style="text;html=1;fontSize=10;fontFamily=Segoe UI;fontColor=#8A8886;align=left;" value="pip packages from requirements.txt" vertex="1">
          <mxGeometry height="16" width="250" x="678" y="287" as="geometry" />
        </mxCell>
        <mxCell id="ly2-badge" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DFF6DD;strokeColor=#107C10;fontSize=10;fontFamily=Segoe UI Semibold;fontColor=#107C10;" value="Cached" vertex="1">
          <mxGeometry height="20" width="55" x="1015" y="273" as="geometry" />
        </mxCell>
        <mxCell id="ly3" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF8F0;strokeColor=#F7630C;arcSize=4;strokeWidth=1;" value="" vertex="1">
          <mxGeometry height="55" width="440" x="640" y="368" as="geometry" />
        </mxCell>
        <mxCell id="ly3-dot" parent="1" style="ellipse;whiteSpace=wrap;html=1;fillColor=#F7630C;strokeColor=none;" value="" vertex="1">
          <mxGeometry height="10" width="10" x="658" y="386" as="geometry" />
        </mxCell>
        <mxCell id="ly3-name" parent="1" style="text;html=1;fontSize=13;fontFamily=Segoe UI;fontColor=#242424;fontStyle=1;align=left;" value="Layer 3  —  Your Code" vertex="1">
          <mxGeometry height="22" width="260" x="678" y="377" as="geometry" />
        </mxCell>
        <mxCell id="ly3-desc" parent="1" style="text;html=1;fontSize=10;fontFamily=Segoe UI;fontColor=#8A8886;align=left;" value="Application source copied into image" vertex="1">
          <mxGeometry height="16" width="250" x="678" y="397" as="geometry" />
        </mxCell>
        <mxCell id="ly3-badge" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FDE7E9;strokeColor=#D13438;fontSize=10;fontFamily=Segoe UI Semibold;fontColor=#D13438;" value="Rebuilt" vertex="1">
          <mxGeometry height="20" width="55" x="1015" y="383" as="geometry" />
        </mxCell>
        <mxCell id="inv-line" edge="1" parent="1" style="endArrow=none;html=1;strokeWidth=2;strokeColor=#D13438;dashed=1;dashPattern=6 4;" value="">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="640" y="350" as="sourcePoint" />
            <mxPoint x="1080" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="inv-lbl" parent="1" style="text;html=1;fontSize=10;fontFamily=Segoe UI;fontColor=#D13438;fontStyle=2;align=center;" value="Cache boundary — changes below trigger rebuild" vertex="1">
          <mxGeometry height="16" width="300" x="720" y="327" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
